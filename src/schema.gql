# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

directive @auth on FIELD_DEFINITION

input CreateProductInput {
  currency: String!
  expiresAt: Timestamp
  fileStorageHash: String!
  name: String
  price: Int!
}

type FileUploadPayload {
  fileStorageHash: String!
  uploadURL: String!
}

type Mutation {
  buyProduct(productId: String!): String!
  cashoutFunds: Timestamp!
  createProduct(input: CreateProductInput!): Product!
  increaseClick(productId: String!): Boolean!
  register(input: RegisterInput!, token: String!): User!
  signIn(token: String!): User!
  signOut: Boolean!
  testCashout(userId: String!): Timestamp!
}

type Product {
  clickCount: Int!
  createdAt: Timestamp!
  creator: User!
  creatorId: ID!
  currency: String!
  earnings: Int!
  expiredAt: Timestamp

  """unique identifier"""
  id: ID!
  name: String!
  price: Int!
  salesCount: Int!
  stripeProductId: String!
}

type ProductPrices {
  creatorPrice: Int!
  finalPrice: Int!
}

type Query {
  authenticatedUser: User!
  calculateFinalPrice(price: Int!): ProductPrices!
  isEmailRegistered(email: String!): Boolean!
  product(id: ID!): Product!
  productDownloadUrl(paymentIntentId: String!, productId: String!): String!
  productUploadUrl: FileUploadPayload!
  products(skip: Int! = 0, take: Int! = 100): [Product!]!
  stripeOnboardingUrl: String!
  userBalance: UserBalance!
}

input RegisterInput {
  country: String!
  email: String!
  firstName: String!
  referrerCode: String
  tosAccepted: Boolean!
}

"""
`Date` type as integer. Type represents date and time as number of milliseconds from start of UNIX epoch.
"""
scalar Timestamp

type User {
  country: String!
  email: String!
  firstName: String!

  """unique identifier"""
  id: ID!
  lastName: String
  referralCode: String!
}

type UserBalance {
  currency: String!
  currentPayableAmount: Int!
  futurePayableAmount: Int!
  stripeFees: Int!
  totalAmountPayable: Int!
}